<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>DB Schema Designer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <header>
    <h1>DB Schema Designer</h1>
    <button id="btn-save-solution">Save solution</button>
    <div id="status">Ready</div>

  </header>

  <main class="layout">
    <!-- Sidebar: simple forms -->
    <aside id="sidebar">
      <section class="card">
        <h2>New Table</h2>
        <form id="form-new-table">
          <label>Table name
            <input id="nt-name" required placeholder="users" />
          </label>
          <button type="submit">Add Table</button>
        </form>
      </section>

      <section class="card" id="section-selected" hidden>
        <div class="row-between">
          <h2 id="sel-title">Selected: â€”</h2>
          <button id="btn-del-table" class="danger" title="Delete table">Delete</button>
        </div>
        <form id="form-rename-table">
          <label>Rename
            <input id="rt-name" required />
          </label>
          <button type="submit">Save Name</button>
        </form>

        <!-- NEW: table color picker -->
        <label>Table color
          <select id="rt-color">
            <option value="white">White</option>
            <option value="blue">Blue</option>
            <option value="green">Green</option>
            <option value="red">Red</option>
          </select>
        </label>

        <hr />

        <h3 id="field-form-title">Add Field</h3>
        <form id="form-new-col">
          <label>Column name
            <input id="nc-name" required placeholder="id" />
          </label>
          <label>Type
            <select id="nc-type"></select>
          </label>
          <label class="row">
            <input type="checkbox" id="nc-nullable" /> Nullable
          </label>
          <label>Default
            <input id="nc-default" placeholder="NULL or value" />
          </label>
          <label class="row">
            <input type="checkbox" id="nc-pk" /> Primary key
          </label>
          <label class="row">
            <input type="checkbox" id="nc-unique" /> Unique
          </label>
          <!-- app.js injects the Add/Save + Delete buttons -->
        </form>

        <hr />

        <h3>Add Foreign Key</h3>
        <form id="form-new-fk">
          <label>From column
            <select id="fk-from-col"></select>
          </label>
          <label>To table
            <select id="fk-to-table"></select>
          </label>
          <label>To column
            <select id="fk-to-col"></select>
          </label>
          <label>On Delete
            <select id="fk-ondelete">
              <option>NO ACTION</option><option>CASCADE</option>
              <option>SET NULL</option><option>RESTRICT</option>
            </select>
          </label>
          <button type="submit">Add FK</button>
        </form>
      </section>
    </aside>

    <!-- Diagram -->
    <div id="diagram-wrap">
      <svg id="diagram" width="100%" height="100%" viewBox="0 0 1400 900"></svg>
    </div>
  </main>

  <script src="./io.js"></script>
  <script src="./diagram.js"></script>
  <script src="./ui.js"></script>
  <script src="./app.js"></script>
</body>
</html>
