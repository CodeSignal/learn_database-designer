:root {
    --bg: #f7f7f9; --fg: #222; --muted: #666; --box: #fff;
    --stroke: #999; --key: #0b6; --fk: #06c; --danger: #c0392b;
    --accent: #3b82f6;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0}
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;color:var(--fg);background:var(--bg)}
  header{display:flex;align-items:baseline;gap:1rem;padding:.75rem 1rem;border-bottom:1px solid #e3e3e8;background:#fff}
  header h1{font-size:1.1rem;margin:0}
  #status{font-size:.9rem;color:var(--muted)}

  main.layout{display:grid;grid-template-columns:300px 1fr;height:calc(100% - 50px)}
  #diagram-wrap{width:100%;height:100%}
  #diagram{background:#fafbfc}
  aside#sidebar{padding:10px;overflow:auto;border-right:1px solid #e5e5ea;background:#fbfbfd}
  .card{background:#fff;border:1px solid #eee;border-radius:8px;padding:10px;margin-bottom:10px}
  .row{display:flex;align-items:center;gap:.5rem}
  .row-between{display:flex;align-items:center;justify-content:space-between}
  label{display:flex;flex-direction:column;gap:.25rem;margin:.4rem 0}
  /* Keep checkbox + text on one line for labels that use .row */
  label.row{flex-direction:row;align-items:center;gap:.5rem}
  input,select,button{padding:.5rem;border:1px solid #ddd;border-radius:6px;font:inherit}
  input[type="checkbox"]{padding:0}
  button{cursor:pointer}
  button.danger{background:#ffe9e7;border-color:#ffd5d1;color:var(--danger)}
  hr{border:none;border-top:1px solid #eee;margin:10px 0}

  text{font-size:12px;fill:#222;dominant-baseline:middle}
  .table-title{font-weight:600}
  .table.selected rect{stroke:#3b82f6;stroke-width:2}
  .table .drag-handle,
  .table .drag-button { cursor: grab; }
  .table .drag-button:active { cursor: grabbing; }
  .edge{stroke:var(--fk);stroke-width:1.5;fill:none}
  .edge-marker{fill:var(--fk)}

  /* Visuals for the drag button */
  .drag-btn-bg { fill: #f2f3f5; stroke: #d0d0d7; }
  .drag-btn-dot { fill: #888; }

  /* Pan/zoom UX */
  #diagram { cursor: default; }
  #diagram.panning { cursor: grabbing !important; }

  /* make column text obviously interactive */
  .col-text { pointer-events: auto; }

  /* Highlight the column currently being edited */
  @keyframes colPulse {
    0%, 100% { fill: var(--fg); }
    50% { fill: var(--accent); }
  }
  .col-editing {
    animation: colPulse 1.2s ease-in-out infinite;
    font-weight: 600;
  }

  /* Optional: let header bg take full width neatly (no extra styles required) */
  .table-header-bg { /* fill set in SVG */ }
